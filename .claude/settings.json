{
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [{ "type": "command", "command": "node hooks/session-init.js" }]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": "",
        "hooks": [{ "type": "command", "command": "node hooks/prompt-preamble.js" }]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write|Read",
        "hooks": [{ "type": "command", "command": "node hooks/protect-memory.js" }]
      },
      {
        "matcher": "Write",
        "hooks": [{ "type": "command", "command": "node hooks/context-path-guide.js" }],
        "description": "Guide writes to docs/context/ or docs/knowledge/"
      },
      {
        "matcher": "Write|Edit",
        "hooks": [{ "type": "command", "command": "node hooks/convention-guard.js" }],
        "description": "Reinforce conventions based on target file path"
      }
    ],
    "PostToolUse": [
      {
        "matcher": "",
        "hooks": [{ "type": "command", "command": "node hooks/knowledge-tracker.js || true" }]
      }
    ],
    "PostToolUseFailure": [
      {
        "matcher": "",
        "hooks": [{ "type": "command", "command": "node hooks/knowledge-tracker.js || true" }]
      }
    ]
  }
}
