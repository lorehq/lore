---
description: Where to put different types of knowledge — routing table and capture checklist
globs: docs/knowledge/**, docs/context/**
---

## Knowledge Routing

| What | Where |
|------|-------|
| Operator identity, preferences | `docs/knowledge/local/operator-profile.md` (gitignored, injected every session) |
| Gotchas (auth quirks, encoding, parameter tricks) | `.lore/skills/` via lore-create-skill |
| Rules, conventions | `docs/context/` |
| Environment (URLs, repos, services, relationships) | `docs/knowledge/environment/` |
| Procedures (multi-step operations) | `docs/knowledge/runbooks/` |
| Scratch notes (temporary) | `.lore/memory.local.md` (gitignored) |

`MEMORY.md` is intercepted by hooks and blocked. Use the routes above.

## Capture

After substantive work:
1. New environment knowledge? → `docs/knowledge/environment/`
2. Hit gotchas? → create skill
3. Multi-step procedure? → `docs/knowledge/runbooks/`
4. Skills over 80 lines or mixing methods? → split
5. Run `.lore/scripts/validate-consistency.sh`
6. Active plan or roadmap? → update progress

Use `/lore-capture` for a full checklist pass. `/lore-consolidate` for deep repo-wide health checks.
