# Lore runtime â€” docs UI + semantic search + maintenance watcher.
# Pulls the published image. Run with: docker compose -f .lore/docker-compose.yml up -d
# LORE_DOCS_PORT and LORE_SEMANTIC_PORT set by /lore-docker for multi-instance support.
# COMPOSE_PROJECT_NAME set by /lore-docker to basename of project root (e.g. my-project).
name: ${COMPOSE_PROJECT_NAME:-lore}
services:
  lore-runtime:
    image: lorehq/lore-docker:latest
    ports:
      - '${LORE_DOCS_PORT:-9184}:8000'
      - '${LORE_SEMANTIC_PORT:-9185}:8080'
    volumes:
      - ../docs:/data/docs
      - ../.lore/skills:/data/skills:ro
      - runtime_data:/runtime-data
      - runtime_cache:/runtime-cache
    restart: unless-stopped

volumes:
  runtime_data:
  runtime_cache:
